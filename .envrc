# Cocli Project Environment
# This file is version-tracked. Do not modify campaign-specific variables here.

eval "$(mise direnv activate)"

# Base Paths
export COCLI_DATA_HOME="${PWD}/data"
export MYPY_PATH="${PWD}/cocli"

# Source the campaign-specific AWS profile (gitignored)
# watch_file ensures direnv reloads when the profile changes
watch_file .aws_profile.env
if [ -f .aws_profile.env ]; then
    source_env .aws_profile.env
fi

# Development Hooks
on_enter() {
    echo "Cocli Environment Loaded: ${COCLI_DATA_HOME}"
    echo "Starting mypy daemon..."
    mise run mypy-daemon-start
}

on_exit() {
    echo "Stopping mypy daemon..."
    mise run mypy-daemon-stop
}
